{
    "apiVersion": "kubeless.io/v1beta1",
    "kind": "Function",
    "metadata": {
        "annotations": {
            "function-size": "{{function_size}}"
        },
        "finalizers": ["kubeless.io/function"],
        "generation": 1,
        "name": "{{function_name}}"
    },
    "spec": {
        "deployment": {
            "metadata": {
                "creationTimestamp": null
            },
            "spec": {
                "replicas": 1,
                "strategy": {},
                "template": {
                    "metadata": {
                        "creationTimestamp": null
                    },
                    "spec": {
                        "containers": [{
                            "env": ["{{environment_variables}}"],
                            "name": "rate-review"
                        }]
                    }
                }
            },
            "status": {}
        },
        "deps": "{{function_deps}}",
        "function": "{{function_code}}",
        "function-content-type": "text",
        "handler": "handler.main",
        "horizontalPodAutoscaler": {
            "metadata": {
                "labels": {
                    "function": "{{function_name}}"
                },
                "name": "{{function_name}}"
            },
            "spec": {},
            "status": {}
        },
        "runtime": "nodejs8",
        "service": {
            "ports": [{
                "name": "http-function-port",
                "port": 8080,
                "protocol": "TCP",
                "targetPort": 8080
            }],
            "selector": {
                "created-by": "kubeless",
                "function": "{{function_name}}"
            }
        },
        "timeout": "",
        "topic": "{{function_trigger}}"
    }
}